language: cpp

compiler:
  - gcc
  
before_install:
  - wget https://github.com/ARMmbed/mbedtls/archive/mbedtls-2.1.4.tar.gz
  - tar -zxvf mbedtls-2.1.4.tar.gz
  - sudo mv mbedtls-mbedtls-2.1.4 /usr/local/share/mbedtls
install:
  - make -C /usr/local/share/mbedtls no_test
  - if [ "$CXX" = "g++" ]; then export CXX="g++-4.8" CC="gcc-4.8"; fi
addons:
  apt:
    sources:                                               
    - ubuntu-toolchain-r-test
    - beineri/opt-qt551-trusty
    packages:
    - gcc-4.8
    - g++-4.8
    - qt55base
script: 
  - qmake messec.pro
  - make
  - ./src/tests/tests
